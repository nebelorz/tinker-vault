<section class="bg-base-100 rounded-lg shadow p-4 text-xs flex flex-col gap-2">
    <h3 class="text-base font-bold flex items-center gap-2 mb-1">
        <span>Trades</span>
    </h3>

    <div *ngIf="trades?.isMerchant && trades?.offer?.length; else noOffersOrNotMerchant">
        <table class="table-auto w-full text-left border-collapse border border-base-300 text-xs">
            <thead>
                <tr class="bg-base-200">
                    <th class="border border-base-300 px-3 py-2">Item</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of trades.offer" class="hover:bg-base-100/50 cursor-pointer">
                    <td class="border border-base-300 px-3 py-2 font-medium text-base-content">
                        <a [routerLink]="['/items', item.id]" class="flex items-center gap-2 text-primary hover:underline no-underline">
                            <img [src]="getItemImageSrc(item)" [alt]="getItemName(item.id)" class="w-6 h-6 object-contain" loading="lazy" />
                            <span>{{ getItemName(item.id) }}</span>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <ng-template #noOffersOrNotMerchant>
        <p class="opacity-50 italic" *ngIf="trades?.isMerchant">No info about this.</p>
        <p class="opacity-50 italic" *ngIf="!trades?.isMerchant">This NPC does not sell anything.</p>
    </ng-template>
</section>
